import{nonEmpty as e,object as t,pipe as n,safeParse as r,string as i,summarize as a}from"valibot";import{executeWebhookSafe as o}from"@discordkit/client/webhook/executeWebhook";const s=`must be a string`,c=`must not be empty`,l=r(t({INPUT_WEBHOOK:n(i(s),e(c)),INPUT_TOKEN:n(i(s),e(c)),INPUT_CONTENT:n(i(s),e(c))},e=>`Required environment variable ${e.expected} is missing!`),process.env);if(l.issues)throw Error(a(l.issues));const{INPUT_WEBHOOK:u,INPUT_TOKEN:d,INPUT_CONTENT:f}=l.output;try{console.info(`Running discord webhook action...`),await o({webhook:u,token:d,body:{content:f}})}catch(e){e instanceof Error&&console.error(e.message),process.exit(1)}